<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>index.py</title>
  <link rel="stylesheet" href="../pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>index.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <h3><span id="hour-1-day-1" href="hour-1-day-1"> hour 1 day 1 </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      <p>minimal Dockerfile nginx alpine</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      <p>Dockerfile</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">FROM</span> <span class="n">nginx</span><span class="p">:</span><span class="mf">1.15</span><span class="o">-</span><span class="n">alpine</span>
    <span class="n">RUN</span> <span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">html</span>
    <span class="n">COPY</span> <span class="n">output</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">html</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      <p>run command
src: https://hub.docker.com/_/nginx/</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="n">static</span><span class="o">-</span><span class="n">nginx</span> <span class="o">.</span>
    <span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">name</span> <span class="n">day1</span> <span class="o">-</span><span class="n">d</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8080</span><span class="p">:</span><span class="mi">80</span> <span class="n">static</span><span class="o">-</span><span class="n">nginx</span>
    <span class="n">docker</span> <span class="n">stop</span> <span class="n">day1</span>
  
    <span class="n">docker</span> <span class="n">build</span>
        <span class="o">-</span><span class="n">t</span> <span class="n">tag</span>
    <span class="n">docker</span> <span class="n">run</span>
        <span class="o">-</span><span class="n">p</span> <span class="n">mapping</span> <span class="n">container</span> <span class="mi">80</span> <span class="n">to</span> <span class="n">host</span> <span class="mi">8080</span>
        <span class="o">-</span><span class="n">d</span> <span class="n">run</span> <span class="n">detached</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      <p>use docker-compose to build and run</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">up</span> <span class="o">--</span><span class="n">build</span> <span class="o">-</span><span class="n">d</span>
        <span class="o">--</span><span class="n">build</span> <span class="k">if</span> <span class="n">no</span> <span class="n">container</span>
        <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">recreate</span> <span class="k">if</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">container</span><span class="p">,</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">recreate</span> <span class="n">it</span>

    <span class="nb">open</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8080</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      <h3><span id="hour-2-day-1" href="hour-2-day-1"> hour 2 day 1 </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      <p>docker-compose
if not specify image it will use <project>_<service> as container name</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">container</span> <span class="n">name</span> <span class="o">&lt;</span><span class="n">project</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">service</span><span class="o">&gt;</span>
    <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="o">--</span><span class="n">project</span><span class="o">-</span><span class="n">name</span> <span class="n">foo</span> <span class="n">build</span> <span class="n">bar</span>
    <span class="n">docker</span> <span class="n">images</span> <span class="n">foo_bar</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      <p>with already built image, you can remove [build] from docker-compose.yml
add the specified image and container name
    image: my_custom_nginx_image
    container_name: nginx</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      <h3><span id="hour-3-day-1" href="hour-3-day-1"> hour 3 day 1 </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      <ol>
<li><strong> docker </strong> - use docker cmd to clean up</li>
<li><strong> docker-compose </strong> - stop and/or cleanup</li>
</ol>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">docker</span> <span class="n">container</span> <span class="n">rm</span> <span class="n">container_name</span>
    <span class="n">docker</span> <span class="n">image</span> <span class="n">rm</span> <span class="n">image_name</span>
        <span class="o">-</span><span class="n">f</span> <span class="n">force</span>
    <span class="n">docker</span> <span class="n">image</span> <span class="n">prune</span>                  <span class="c1"># remove unused images</span>
    <span class="n">docker</span> <span class="n">images</span>

    <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">ps</span>
    <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">stop</span>
        <span class="n">stop</span>    <span class="c1"># stop all containers</span>
        <span class="n">rm</span> <span class="o">-</span><span class="n">f</span>   <span class="c1"># remove all containers</span>
    <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">down</span> <span class="o">--</span><span class="n">rmi</span> <span class="nb">all</span>
        <span class="n">down</span>    <span class="c1"># stop and remove containers networks, volumes and images</span>

    <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">up</span> <span class="o">-</span><span class="n">d</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <h3><span id="hour-4-day-1" href="hour-4-day-1"> hour 4 day 1 </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      <p>generate document from pyfile</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">pip</span> <span class="n">install</span> <span class="n">pycco</span>
    <span class="n">pycco</span> <span class="n">docker_day1</span><span class="o">/*.</span><span class="n">py</span> <span class="o">-</span><span class="n">d</span> <span class="n">html_output</span> <span class="o">-</span><span class="n">p</span> <span class="o">-</span><span class="n">i</span>
        <span class="o">-</span><span class="n">p</span>  <span class="c1"># preservce path</span>
        <span class="o">-</span><span class="n">d</span>  <span class="c1"># output directory</span>
        <span class="o">-</span><span class="n">i</span>  <span class="c1"># generate index</span>
    <span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">http</span><span class="o">.</span><span class="n">server</span> <span class="mi">8000</span>      <span class="c1"># test</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
